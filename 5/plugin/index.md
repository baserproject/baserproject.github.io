# プラグインガイド 

baserCMSでは標準機能に追加する形で、プラグインを導入できます。プラグインはパッケージに同梱されているコアプラグインをはじめ、サードパーティー製のプラグインまでWeb上で公開されています。

## プラグインの導入

### プラグイン導入の流れ
#### プラグインのダウンロード
プラグインは公式マーケットである「[baserマーケット](https://market.basercms.net)」で配布、または、販売されています。その他、個人のブログやgitHubなどで公開されているものもあります。

- [baserマーケット：テーマやプラグインをダウンロードする](../market#テーマやプラグインをダウンロードする)

ただし、ダウンロードの際は、そのプラグイン制作者が動作確認を行った、baserCMSのバージョンに注意してください。baserCMSのバージョンが変わると、プラグインは動かなくなる場合があります。

#### プラグインの配置
プラグインのインストールは簡単です。次のフォルダにダウンロードしたZipファイルを解凍してできたフォルダを設置してください。

```shell
/plugins/
```

上記フォルダ内に設置されたプラグインは、管理画面のプラグイン管理で自動的に認識されます。

将来的に、管理システム内で直接ダウンロードできる仕組みを検討中ですが、現在は、手動での設置が必要です。（2023/03/29 現在）

#### 管理システムよりインストール
管理システムで、「設定」→「プラグイン管理」をクリックします。配置したプラグインが表示されているはずですので、「インストール」ボタンをクリックすると、プラグインインストール画面が表示されます。 通常はそのまま、「インストール」ボタンをクリックして、インストールを完了させます。

なお、実際に利用する為に、各種フォルダのパーミッション設定など、事前準備が必要なプラグインがあります。プラグインの配布ページ等の注意書きをよく読んで作業を行なってください。


## CakePHPのプラグインも利用可能
Composer を利用することで、CakePHPで配布されているプラグインも利用可能です。  

- [Awesome CakePHP](https://github.com/FriendsOfCake/awesome-cakephp){:target="_blank"}

その際、上記手順の「プラグインの配置」、「管理システムよりインストール」は不要となりますが、CakePHPでの有効化手順が必要となります。

```shell
php composer.phar dumpautoload
bin/cake plugin load {PluginName}
```


## プラグインのアップデート
新しいバージョンのプラグインがリリースされたらアップデートを行う事ができます。

### プラウグインアップデートの流れ
#### プラグインのダウンロード
新しいバージョンのプラグインをダウンロードします。

#### プラグインの配置
ダウンロードしたZipファイルを解凍して、できたフォルダを、既存のプラグインのフォルダに上書きします。

#### 管理システムよりアップデート
管理システムで、「設定」→「プラグイン管理」をクリックします。対象プラグインに「アップデート」ボタンが表示されているのでクリックし、プラグインアップデート画面を表示します。「アップデート実行」ボタンをクリックして、アップデートを完了させます。

## プラグインの無効化
インストールしたプラグインが上手く動かなかったり、何かしらの原因でbaserCMSの動作に悪い影響がある場合は、プラグイン管理画面からそのプラグインを無効化できます。無効化されたプラグインは、その後、同じ画面で削除を行うことが出来るようになります。


## 独自のプラグインを作成する
baserCMSのプラグインは、baserCMS自体が CakePHPで開発されているため、プラグインもCakePHPの開発方法で作成することができます。

baserCMSの機能の振る舞いを変更するだけのものから、データベースの管理を行うものまで、様々なプラグインが開発できます。詳しくはこちらをご覧ください。

- [独自のプラグインを作成する](./develop_plugin)

Web上に配布されているプラグインで物足りなかったらぜひチャレンジしてみてください。

## 独自のプラグインを販売・配布する
baserマーケットでは、自身が作成したオリジナルのプラグインを配布、販売することができます。 
 
自分が作ったソフトウェアを知らない誰かが使ってくれたらワクワクしますね！  
こちらもぜひチャレンジしてみてください。

- [baserマーケット：テーマやプラグインを配布・販売する](../market#テーマやプラグインを配布・販売する)

## baserCMS４のプラグインを変換する
baserCMS４のテーマを baserCMS５用に変換するにはこちらをご覧ください。

- [baserCMS４のプラグインを変換](migration_plugin_from_ver4)
- [baserCMS４からのアップグレードガイド](../ver5_migration)
